令 \(h(T)\) 表示有根树 \(T\) 的 Hash, \(S(T)\) 表示 \(T\) 的子树集合, 则

\[
    h(T)=\left(\texttt{OFFSET}+\sum_{s\in S(T)}h(s)\right)\bmod{2^{64}}
\]

这样 Hash 的好处是方便换根

另外, 若需要比较两棵无根树是否同构, 可以考虑以重心作为根
